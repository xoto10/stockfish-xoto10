#!/bin/bash

# bench new against master


# warmup:
./stockfish_${1:-new} bench >b1.out 2>&1 | ./stockfish_${2:-master} bench >b2.out 2>&1

./stockfish_${1:-new} bench 16 1 20 >bench_${1:-new}.out 2>&1 &
./stockfish_${2:-master} bench 16 1 20 >bench_${2:-main}.out 2>&1 &
wait


echo ""
echo "tail -5 bench_${1:-new}.out"
tail -5 "bench_${1:-new}.out"

echo ""
echo "tail -5 bench_${2:-main}.out"
tail -5 "bench_${2:-main}.out"



./stockfish_${2:-master} bench 16 1 20 >bench_${2:-main}.out 2>&1 &
./stockfish_${1:-new} bench 16 1 20 >bench_${1:-new}.out 2>&1 &
wait


echo ""
echo ""
echo "tail -5 bench_${1:-new}.out"
tail -5 "bench_${1:-new}.out"

echo ""
echo "tail -5 bench_${2:-main}.out"
tail -5 "bench_${2:-main}.out"


